<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KEY æ‡‰æ´è©åƒè€ƒåº«</title>
    <style>
        /* CSS æ¨£å¼å€åŸŸ */
        body {
            font-family: 'Helvetica Neue', Arial, sans-serif;
            background-color: #f4f4f4;
            color: #333;
            padding: 0;
            margin: 0;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        /* ------------------ åˆ—è¡¨æ¨£å¼ (List View) ------------------ */
        #search-input {
            width: 100%;
            padding: 10px;
            margin-bottom: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-sizing: border-box;
            font-size: 1rem;
        }
        .song-card {
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            margin-bottom: 15px;
            padding: 15px;
            cursor: pointer;
            transition: transform 0.2s;
        }
        .song-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }
        .song-card h3 {
            margin: 0 0 5px 0;
            color: #1a73e8; /* è—è‰²å¼·èª¿ */
        }
        .song-card p {
            margin: 0;
            font-size: 0.9rem;
            color: #666;
        }

        /* ------------------ è©³æƒ…æ¨£å¼ (Detail View) ------------------ */
        #detail-view {
            display: none; /* é è¨­éš±è— */
            padding-top: 50px;
        }
        .back-btn {
            position: fixed;
            top: 10px;
            left: 10px;
            padding: 8px 15px;
            background-color: #1a73e8;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            z-index: 10;
        }
        .detail-header {
            text-align: center;
            margin-bottom: 20px;
        }
        .lyric-line {
            padding: 10px 0;
            border-bottom: 1px dashed #eee;
            line-height: 1.6;
        }
        .idol-part {
            color: #666; /* å¶åƒæ­Œè©è¼ƒç‚ºä½èª¿ */
        }
        .fan-part {
            font-weight: bold;
            color: #d9004c; /* æ‡‰æ´è©ä½¿ç”¨é«˜äº®è‰² */
            background-color: #fff0f5;
            padding: 5px 10px;
            border-radius: 5px;
            display: block;
            margin: 5px 0;
        }
        .hangul {
            font-size: 1.1rem;
        }
        .roman, .translation {
            font-size: 0.85rem;
            color: #999;
            display: block;
        }
        .translation {
            color: #00796b;
        }
    </style>
</head>
<body>
    <button class="back-btn" id="back-btn" style="display: none;">â† è¿”å›åˆ—è¡¨</button>

    <div class="container">
        <div id="list-view">
            <h1>æ‡‰æ´è©åƒè€ƒåº« (KEY)</h1>
            <input type="text" id="search-input" placeholder="ğŸ” æœå°‹æ­Œåã€å°ˆè¼¯æˆ–æ‡‰æ´è©é—œéµå­—...">
            <div id="song-list">
                </div>
        </div>

        <div id="detail-view">
            </div>
    </div>

    <script>
        // --- JavaScript é‚è¼¯å€åŸŸ ---

        // 1. è³‡æ–™åº«æ¨¡æ“¬ (æ‰€æœ‰æ‡‰æ´è©è³‡æ–™)
        const songsData = [
            {
                id: 'hunter',
                title: 'Hunter',
                artist: 'KEY',
                album: 'Good & Great',
                lyrics: [
                    { type: 'fan', hangul: "ìƒ¤ì´ë‹ˆ í‚¤ í—Œí„°!", roman: "SHINee! KEY! Hunter!", translation: "ìƒ¤ì´ë‹ˆï¼é‡‘èµ·ç¯„ï¼Hunterï¼ (é–‹å ´å–Šè²)" },
                    { type: 'idol', hangul: "ê¸´ì¥í•´ ë–¨ë¦¼ì„ ëŠê»´", roman: "ginjanghae tteollimeul neukkyeo", translation: "ç·Šå¼µåœ°æ„Ÿå—é¡«æŠ–" },
                    { type: 'fan', hangul: "ê¹€ê¸°ë²”!", roman: "KIM KI BUM!", translation: "é‡‘èµ·ç¯„ï¼(å–®å­—æ‡‰æ´)" },
                    { type: 'idol', hangul: "ì´ì   ë‚´ê°€ ë„ ì°¾ì•„ê°€", roman: "ijen naega neol chajaga", translation: "ç¾åœ¨æ›æˆ‘ä¾†æ‰¾ä½ " },
                    { type: 'fan', hangul: "ì´ ì‹œëŒ€ì˜ ì‚¬ëƒ¥ê¾¼!", roman: "i sidaeui sanyangkkun!", translation: "é€™å€‹æ™‚ä»£çš„çµäººï¼(å¥å°¾æ‡‰æ´)" },
                ]
            },
            {
                id: 'badlove',
                title: 'Bad Love',
                artist: 'KEY',
                album: 'Bad Love',
                lyrics: [
                    { type: 'fan', hangul: "KEY! KEY! KEY!", roman: "KEY! KEY! KEY!", translation: "é‡‘èµ·ç¯„! é‡‘èµ·ç¯„! é‡‘èµ·ç¯„!" },
                    { type: 'idol', hangul: "Donâ€™t need that kind of love, called love", roman: "Donâ€™t need that kind of love, called love", translation: "ä¸éœ€è¦é‚£ç¨®å«ä½œæ„›çš„æ„›" },
                    { type: 'fan', hangul: "í‚¤ ì§±!", roman: "Ki-jjang!", translation: "KEY æœ€æ£’ï¼(ä¸­æ®µæ‡‰æ´)" },
                    { type: 'idol', hangul: "Gyeolgug-en neoman jichil geol", roman: "Gyeolgug-en neoman jichil geol", translation: "æœ€çµ‚åªæœƒè®“ä½ ç–²æ†Š" },
                    { type: 'fan', hangul: "Bad Love!", roman: "Bad Love!", translation: "Bad Love!" },
                ]
            }
            // å¯¦éš›ä½¿ç”¨æ™‚ï¼Œä½ æœƒåœ¨é€™å€‹é™£åˆ—ä¸­åŠ å…¥æ‰€æœ‰çš„æ­Œæ›²è³‡æ–™
        ];

        // 2. DOM å…ƒç´ å¿«å–
        const listView = document.getElementById('list-view');
        const detailView = document.getElementById('detail-view');
        const songListContainer = document.getElementById('song-list');
        const searchInput = document.getElementById('search-input');
        const backBtn = document.getElementById('back-btn');

        // 3. åˆå§‹è¼‰å…¥èˆ‡äº‹ä»¶ç¶å®š
        document.addEventListener('DOMContentLoaded', () => {
            renderSongList(songsData);
            searchInput.addEventListener('input', handleSearch);
            backBtn.addEventListener('click', showListView);
        });

        // 4. é¡¯ç¤ºåˆ—è¡¨
        function renderSongList(songs) {
            songListContainer.innerHTML = '';
            
            if (songs.length === 0) {
                songListContainer.innerHTML = '<p>æ‰¾ä¸åˆ°ç¬¦åˆæ¢ä»¶çš„æ‡‰æ´è©ã€‚</p>';
                return;
            }

            songs.forEach(song => {
                const card = document.createElement('div');
                card.className = 'song-card';
                card.dataset.id = song.id;
                card.innerHTML = `
                    <h3>${song.title}</h3>
                    <p>å°ˆè¼¯: ${song.album} | è—äºº: ${song.artist}</p>
                `;
                card.addEventListener('click', () => showDetailView(song.id));
                songListContainer.appendChild(card);
            });
        }

        // 5. è™•ç†æœå°‹é‚è¼¯
        function handleSearch(event) {
            const query = event.target.value.toLowerCase().trim();
            if (!query) {
                renderSongList(songsData); // å¦‚æœç©ºç™½ï¼Œé¡¯ç¤ºå…¨éƒ¨
                return;
            }

            // æœå°‹é‚è¼¯ï¼šæª¢æŸ¥æ­Œåã€å°ˆè¼¯åå’Œæ‰€æœ‰æ­Œè©å…§å®¹
            const filteredSongs = songsData.filter(song => {
                const searchString = `${song.title} ${song.album} ${song.artist}`.toLowerCase();
                if (searchString.includes(query)) {
                    return true;
                }
                
                // æª¢æŸ¥æ‡‰æ´è©å…§å®¹
                return song.lyrics.some(lyric => {
                    const lyricString = `${lyric.hangul} ${lyric.roman} ${lyric.translation}`.toLowerCase();
                    return lyricString.includes(query);
                });
            });

            renderSongList(filteredSongs);
        }

        // 6. é¡¯ç¤ºè©³æƒ…é 
        function showDetailView(songId) {
            const song = songsData.find(s => s.id === songId);
            if (!song) return;

            listView.style.display = 'none';
            detailView.style.display = 'block';
            backBtn.style.display = 'block';

            let lyricsHTML = '';
            song.lyrics.forEach(line => {
                const hangulHTML = `<span class="hangul">${line.hangul}</span>`;
                const romanHTML = line.roman ? `<span class="roman">(${line.roman})</span>` : '';
                const translationHTML = line.translation ? `<span class="translation">${line.translation}</span>` : '';
                
                // æ ¹æ“š type æ±ºå®šæ¨£å¼
                const lineContent = `<p>${hangulHTML} ${romanHTML}</p>${translationHTML}`;

                lyricsHTML += `<div class="lyric-line ${line.type}-part}">
                    ${lineContent}
                </div>`;
            });

            detailView.innerHTML = `
                <div class="detail-header">
                    <h2>${song.title}</h2>
                    <p>â€” ${song.artist} | å°ˆè¼¯: ${song.album} â€”</p>
                </div>
                <div id="lyrics-detail">${lyricsHTML}</div>
            `;
            window.scrollTo(0, 0); // è·³è½‰åˆ°é ‚éƒ¨
        }

        // 7. é¡¯ç¤ºåˆ—è¡¨é 
        function showListView() {
            listView.style.display = 'block';
            detailView.style.display = 'none';
            backBtn.style.display = 'none';
            searchInput.value = ''; // æ¸…ç©ºæœå°‹æ¬„ä½
            renderSongList(songsData); // é‡æ–°æ¸²æŸ“å®Œæ•´åˆ—è¡¨
        }
    </script>
</body>
</html>
